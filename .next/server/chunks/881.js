"use strict";exports.id=881,exports.ids=[881],exports.modules={5926:(e,r,s)=>{s.d(r,{Z:()=>t});let t={src:"/_next/static/media/google.094a54cb.png",height:261,width:296,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAvklEQVR42mN4Lu/AxAAFL93tLZ77+OqC2Nk1TxgZYOAOQzj/C1urEy9dTJ+8dlB9+d6JIR4k/sAviYUBBD5N1Vr6OsHoJIi9tWSzyZrS/doMO/+zMMDAn30Sd/9fYnBmYPjP4tzx/YJ127dPXu2fSxlg4MAm24W5q/zPMUy9zhoz+4C+a/uHv25t36IZ4GBWPY/KivBDViuDnputDHhuP2vLHAYQ+MvAyMCwIg7uC6tVMYYOq2M0GaAgYMZNRgCkAUXhqENaRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}},2881:(e,r,s)=>{s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>m});var a=s(997),o=s(6689),l=s(2733),n=s(4550),i=s(9648),d=s(8765),c=e([l,i,d]);[l,i,d]=c.then?(await c)():c;let m=function({currentUser:e,collapsed:r,setCollapsed:s,tier:t,setShowWelcomeForm:i,showWelcomeForm:c,userArchipelagos:m,sandboxHistory:u,setSandboxHistory:x,loggedIn:p,setLoggedIn:h}){let f;let[g,b]=(0,o.useState)(!1),[w,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{g||(window.innerWidth<768&&s(!0),b(!0))}),(0,a.jsxs)("div",{className:"scrolling dark:bg-darkMode dark:text-zinc-300",children:[a.jsx("div",{className:`w-screen  bg-bordoLike transition origin-top-right transform md:hidden rounded-t-none rounded-3xl ${r?"nav-ham-collapsed fixed top-0":"nav-ham-not-collapsed"}`}),(0,a.jsxs)("div",{className:"flex flex-row bg-white dark:bg-darkMode ",children:[a.jsx("div",{className:"hidden sm:block",children:a.jsx(l.Z,{loggedIn:p,setLoggedIn:h,currentUser:e,collapsed:r,setCollapsed:s,source_id:f,tier:t})}),a.jsx("div",{className:`fixed top-0 z-50 transition origin-top-right transform sm:hidden w-full shadow-lg bg-zinc-100 ${r?"ham-collapsed hidden":"ham-not-collapsed bg-white"}`,children:a.jsx("div",{className:"rounded-lg rounded-t-none shadow-lg",children:a.jsx("div",{className:"h-screen",children:a.jsx(l.Z,{loggedIn:p,setLoggedIn:h,currentUser:e,collapsed:r,setCollapsed:s,source_id:f,tier:t,sandboxHistory:u,setSandboxHistory:x})})})}),a.jsx("div",{className:`scrolling md:px-0  w-full max-h-[90vh] sm:max-h-[100vh] ${r?"hidden":" overflow-hidden"}}`,children:w?a.jsx(n.Z,{className:"mt-40 h-20 w-20 text-zinc-300",color:"green"}):a.jsx(d.Z,{tier:t,currentUser:e,showWelcomeForm:c,setShowWelcomeForm:i,userArchipelagos:m,sandboxHistory:u,setSandboxHistory:x})})]})]})};t()}catch(e){t(e)}})},8765:(e,r,s)=>{s.a(e,async(e,t)=>{try{s.d(r,{Z:()=>g});var a=s(997),o=s(6689),l=s(7420),n=s(1163),i=s(1664),d=s.n(i),c=s(4715),m=s(9041),u=s.n(m),x=s(5926),p=s(5675),h=s.n(p),f=e([l]);l=(f.then?(await f)():f)[0];let g=()=>{let[e,r]=(0,o.useState)(""),[s,t]=(0,o.useState)(""),[i,m]=(0,o.useState)(null),p=(0,l.a)(),f=(0,n.useRouter)(),[g,b]=(0,o.useState)(""),[w,v]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),[N,k]=(0,o.useState)(!1),C=f.asPath.includes("/u/resetpassword"),z=f.asPath.includes("/u/register"),A=e=>{r(e.target.value)},P=f.query.oobCode;(0,o.useEffect)(()=>{p.currentUser&&!1===C&&f.push("/")});let _=e=>{t(e.target.value)},S=e=>{b(e.target.value)};return a.jsx("div",{className:"flex flex-col sm:items-center sm:justify-center h-screen mt-20 sm:mt-10 mx-auto items-center w-[300px]",children:!1==w?!1===C?(0,a.jsxs)("div",{className:"mb-20 w-[300px]",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl mb-8 text-zinc-700 dark:text-zinc-300 font-averta-semibold",children:[z?"Create an account":"Login"," "]}),(0,a.jsxs)("form",{onSubmit:z?r=>{r.preventDefault(),j(!0),p.checkIfUserExists(e).then(r=>{if(r.length>0){m("An account with this email already exists."),j(!1);return}g!==s?(m("Passwords do not match."),j(!1)):s.length<8?(m("Password must be at least 8 characters long."),j(!1)):setTimeout(()=>{p.registerWithEmail(e,s).then(()=>{v(!0),j(!1)}).catch(e=>{console.log(e),j(!1)})},1e3)}).catch(e=>{console.log(e),j(!1)})}:r=>{r.preventDefault(),console.log("logging in"),p.loginWithEmail(e,s).then(e=>{"verification error"===e?(m("Please verify your email before logging in."),v(!0)):"user not found"===e?m("Oops! Incorrect email or password."):(localStorage.setItem("logged in","true"),f.push("/myhub"),j(!1))}).catch(e=>{console.log(e),"Firebase: Error (auth/user-not-found)."==e.message||"Firebase: Error (auth/wrong-password)."==e.message?m("Oops! Incorrect email or password."):m(e.message),console.log(e)})},children:[(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{value:e,onChange:A,type:"email",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor dark:peer-focus:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Email address"})]}),(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{onChange:_,type:"password",name:"floating_password",id:"floating_password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor peer-focus:dark:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Password"})]}),z?(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{onChange:S,type:"password",name:"repeat_password",id:"floating_repeat_password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_repeat_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor peer-focus:dark:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Confirm password"})]}):null,a.jsx("div",{className:"grid md:grid-cols-2 md:gap-6"}),(0,a.jsxs)(c.Button,{type:"submit",className:`${y?"opacity-50 pointer-events-none":""} bg-greenColor font-averta-semibold`,children:[" ",y?a.jsx(u(),{type:"spin",width:17,height:17,color:"#ffffff"}):a.jsx("span",{children:"Submit"})]})]}),i&&(0,a.jsxs)("div",{children:[" ",a.jsx("div",{className:"text-red-500 text-sm mb-8 mt-5",children:i})]}),(0,a.jsxs)("div",{className:"mt-4",children:[!1===z?(0,a.jsxs)("div",{className:"text-zinc-600 dark:text-zinc-300 text-sm",children:[a.jsx("p",{children:(0,a.jsxs)(d(),{href:"/u/resetpassword",className:"underline cursor-pointer font-averta-semibold",children:[" ","Forgot your password?"]})})," "]}):null,z?(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("p",{className:"text-zinc-600 dark:text-zinc-300 text-sm font-averta-semibold",children:[" ","Already have an account? Login"," ",a.jsx(d(),{href:"/u/login",className:"text-greenColor font-averta-semibold",children:"here."})]})," "]}):(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("p",{className:"text-zinc-600 dark:text-zinc-300 text-sm font-averta-semibold",children:["Don't have an account?"," ",a.jsx(d(),{href:"/u/register",className:"text-greenColor font-averta-semibold",children:"Register now."})]})," "]})]})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex items-center mt-10 mb-10",children:[a.jsx("div",{className:"border-b border-gray-300 w-[200px] mr-3"}),a.jsx("span",{className:"text-sm text-gray-400 font-averta-semibold",children:"OR"}),a.jsx("div",{className:"border-b border-gray-300 w-[200px] ml-3 "})]}),a.jsx("button",{className:"py-3 px-4  w-full border border-gray-500 rounded focus:outline-none focus:shadow-outline ",onClick:e=>{e.preventDefault(),p.loginWithGoogle().then(e=>{if(localStorage.setItem("logged in","true"),e.user){let r=e.user.metadata.createdAt;e.user.metadata.lastLoginAt-r<5e3&&(console.log("isNewUser"),f.push("/u/welcome/?onboarding_form"))}else f.push("/")}).catch(e=>{console.log(e)})},children:(0,a.jsxs)("div",{className:"flex flex-rows ",children:[a.jsx(h(),{src:x.Z,width:30}),a.jsx("span",{className:" ml-4 font-extral text-zinc-700 dark:text-zinc-300 font-averta-semibold",children:"Continue with Google"})]})})]})]}):null==P?(0,a.jsxs)("div",{className:"mb-20 w-[300px]",children:[(0,a.jsxs)("h1",{className:"text-xl mb-8 text-zinc-700 dark:text-zinc-700 font-averta-semibold",children:["Reset Password"," "]}),a.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-300 mb-10 font-averta-semibold",children:"Enter your email address and we will send you a link to reset your password."}),(0,a.jsxs)("form",{onSubmit:r=>{j(!0),r.preventDefault(),p.resetPassword(e).then(e=>{j(!1),k(!0),localStorage.setItem("resetPassword","false")}).catch(e=>{console.log(e),"Firebase: Error (auth/user-not-found)."===e.message&&m("No user found with this email address."),j(!1)})},children:[(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{value:p.currentUser?p.currentUser.email:e,onChange:A,type:"email",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor dark:peer-focus:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Email address"})]}),(0,a.jsxs)(c.Button,{type:"submit",className:`${y?"opacity-50 pointer-events-none":""} bg-greenColor font-averta-semibold`,children:[" ",y?a.jsx(u(),{type:"spin",width:17,height:17,color:"#ffffff"}):a.jsx("span",{children:"Send Link"})]})]}),i&&(0,a.jsxs)("div",{className:"text-red-500 text-sm mb-8 mt-5 font-averta-semibold",children:[i," "]}),N&&a.jsx("div",{className:"text-green-500 text-sm mb-8 mt-5 font-averta-semibold",children:"Email sent successfully"})]}):a.jsx("div",{className:"mb-20 w-[300px]",children:!1===N?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl mb-8 font-averta-semibold",children:["Pick a New Password"," "]}),a.jsx("p",{className:"text-sm text-zinc-600 mb-10 dark:text-zinc-300 font-averta-semibold",children:"You are about to reset your password. Please make sure your new password is longer than 8 characters."}),(0,a.jsxs)("form",{onSubmit:e=>{j(!0),e.preventDefault(),g!==s?(m("Passwords do not match."),j(!1)):s.length<8?(m("Password must be at least 8 characters long."),j(!1)):p.handlePasswordReset(P,s).then(e=>{k(!0),j(!1)}).catch(e=>{"Firebase: Error (auth/invalid-action-code)."==e.message?m("Invalid or expired link. Please request another link."):m(e.message),j(!1)})},children:[(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{onChange:_,type:"password",name:"floating_password",id:"floating_password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor peer-focus:dark:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Password"})]}),(0,a.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[a.jsx("input",{onChange:S,type:"password",name:"repeat_password",id:"floating_repeat_password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-greenColor focus:outline-none focus:ring-0 focus:border-greenColor peer",placeholder:" ",required:!0}),a.jsx("label",{for:"floating_repeat_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-greenColor peer-focus:dark:text-greenColor peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 font-averta-semibold",children:"Confirm password"})]}),i&&a.jsx("div",{className:"text-red-500 text-sm mb-8 mt-5",children:i}),(0,a.jsxs)(c.Button,{type:"submit",className:`${y?"opacity-50 pointer-events-none":""} bg-greenColor`,children:[" ",y?a.jsx(u(),{type:"spin",width:17,height:17,color:"#ffffff"}):a.jsx("span",{className:"text-zinc-700 dark:text-zinc-700 font-averta-semibold",children:"Reset Password"})]})]})]}):(0,a.jsxs)("div",{className:"text-md mb-8 mt-5 items-center",children:[a.jsx("svg",{className:"items-center mx-auto text-green-500",width:60,fill:"none",stroke:"currentColor","stroke-width":"1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,a.jsxs)("p",{className:"mx-auto text-center mt-4 text-zinc-600 font-averta-semibold",children:["Password reset successfully."," ",(0,a.jsxs)(d(),{className:"underline font-averta-semibold",href:"/u/login",children:[" ","Login"]})," ","to continue."]})]})}):(0,a.jsxs)("div",{className:"mb-20 w-[300px]",children:[(0,a.jsxs)("h1",{className:"text-xl mb-8 font-averta-semibold",children:["We sent a verification link to"," ",null!==e?e:"your email","!"]}),a.jsx("p",{className:"text-sm text-zinc-600 mb-10 font-averta-semibold",children:"Please follow the link to complete your registration. If you didn't get the email, try again from the link below."}),(0,a.jsxs)(c.Button,{onClick:e=>{j(!0),e.preventDefault(),p.resendEmailVerification().then(e=>{k(!0),j(!1)}).catch(e=>{j(!1)})},className:`${y?"opacity-50 pointer-events-none":""} bg-greenColor font-averta-semibold`,children:[" ",y?a.jsx(u(),{type:"spin",width:17,height:17,color:"#ffffff"}):a.jsx("span",{children:"Resend Link"})]}),N&&a.jsx("div",{className:"text-zinc-500 text-sm mb-8 mt-5 font-averta-semibold",children:"Done! Please check your inbox."})]})})};t()}catch(e){t(e)}})}};