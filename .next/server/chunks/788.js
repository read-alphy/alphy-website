exports.id=788,exports.ids=[788],exports.modules={156:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s={src:"/_next/static/media/ALPHY_BG_REMOVED_DARK.ec417ff5.png",height:561,width:561,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAnklEQVR42mMAATY2VkYGQkBGRkZNVFS0QUJCok5GRtoORVJcXNxJTExsBZDeCFSwEcjeIiUl5QlXABSoB0pukJSUzAfiJKCi1UB+E1wBUCAXqGinpKRUIlCnHZA/A6RAW1uHGWaFC1DBXCCeLSkpWQV0y3qgQhcUd8jKymoDJeOAitpEREWTwL5jhfpOWFiYEeoTFqAiDhBbSEgILAYAwGEZxoVck0kAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},1132:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s={src:"/_next/static/media/ALPHY_BG_REMOVED_LIGHT.d7f52198.png",height:678,width:694,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAY0lEQVR42l2NsQ5AMABEKwy+xOIfOkgXPyHRXewGpINvkIhdYkBi8XOPSnVxlxvuDXdCiDsQf5HQ0yJ9zVg4rE9yBzp2ajQrxoGKixLJiCF8gWJmomFD+ZWUggH9PRLYRMSuPnLjNdrTmE+fAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},9338:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var s=a(997),r=a(6689),i=a(1163),l=a(1664),o=a.n(l),n=a(1132),d=a(156),c=a(5675),u=a.n(c);let h=function({collapsed:e,setCollapsed:t}){let a=(0,i.useRouter)();(0,r.useEffect)(()=>{"dark"!==localStorage.theme&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark");let e=()=>{};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),a.asPath.includes("/yt"),a.asPath.includes("/sp"),a.asPath.includes("/up");let l=a.asPath.includes("/arc");return a.asPath.includes("/hub"),(0,s.jsxs)("div",{className:`items-center  justify-between dark:bg-darkMode pb-2	`,children:[(0,s.jsxs)("div",{className:"flex  justify-between flex-row top-0 z-40 text-blueLike bg-white   dark:text-zinc-300 dark:text-gray-200 text-sm md:text-md font-normal h-[8vh] min-h-[40px] dark:bg-darkMode",children:[(0,s.jsxs)("div",{className:`flex mt-4 font-bold ${!1==e&&"lg:pl-4"} ${e?"":"lg:bg-zinc-100 dark:lg:bg-mildDarkMode"} `,children:[!0==e&&l&&s.jsx("div",{onClick:()=>t(!e),className:"hidden lg:flex cursor-pointer bg-zinc-100 dark:bg-mildDarkMode min-w-[32px] max-w-[32px]"}),s.jsx(o(),{href:"/",className:"text-zinc-800 dark:text-gray-200 pl-4 ",children:(0,s.jsxs)("div",{className:"flex-row flex",children:[s.jsx(u(),{src:n.Z,width:40,className:"hidden dark:block"}),s.jsx(u(),{src:d.Z,width:40,className:"dark:hidden opacity-80 "}),s.jsx("h1",{className:"ml-1 mt-1 text-2xl",children:"ALPHY"})]})}),l?s.jsx("div",{onClick:()=>t(!e),className:`hidden lg:flex rounded-full bg-opacity-0 hover:bg-opacity-60 hover:bg-zinc-200 dark:hover:bg-zinc-700 ml-40  mr-4 p-1 transition duration-300 ease-in-out ${e?" lg:hidden bg-slate-50 dark:bg-darkMode":" bg-zinc-100 dark:bg-mildDarkMode  justify-end  "}  `,children:s.jsx("button",{children:s.jsx("svg",{className:`${!e&&"rotate-180"} opacity-50 hover:opacity-40 duration-200 ease-in-out transform`,width:30,"aria-hidden":"true",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5","stroke-linecap":"round","stroke-linejoin":"round"})})})}):null]}),s.jsx("div",{className:"flex ",children:s.jsx("div",{children:s.jsx("div",{className:"flex flex-row mt-6 dark:text-gray-300 ",children:(0,s.jsxs)("div",{id:"nav-icon3",onClick:()=>t(!e),className:`block cursor-pointer col-span-3 mr-5 lg:hidden ${e?" ":" open "} `,children:[s.jsx("span",{className:"bg-zinc-700 dark:bg-zinc-200"}),s.jsx("span",{className:"bg-zinc-700 dark:bg-zinc-200"}),s.jsx("span",{className:"bg-zinc-700 dark:bg-zinc-200"}),s.jsx("span",{className:"bg-zinc-700 dark:bg-zinc-200"})]})})})})]}),s.jsx("div",{className:`w-screen   transition origin-top-right transform lg:hidden ${e?"nav-ham-collapsed fixed top-0":"nav-ham-not-collapsed"}`})]})}},7149:(e,t,a)=>{"use strict";a.d(t,{H:()=>s,J0:()=>l,T5:()=>i,uR:()=>r});let s="backend-staging-2459.up.railway.app";if(!s)throw Error("REACT_APP_API_HOST must be set");let r=!s.startsWith("localhost"),i=`${r?"https":"http"}://${s}`,l="pk_live_51MeGOKJmF4J0rk0xzE0Cl6UmLItHqja1URuUZGHsfOpoATmt60o5CDG3rNXyHrvd28CCxUnb5biyLOMewIz0psQz00mEIfPVl6";if(!l)throw Error("REACT_APP_STRIPE_PK must be set");/^(true|1)$/i.test("false".trim())},4001:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{H:()=>l});var r=a(3745),i=e([r]);r=(i.then?(await i)():i)[0];let l=(0,r.initializeApp)({apiKey:"AIzaSyCQlDrSG7cOYqqOaj79hFbipJIFqzlRhwg",authDomain:"auth.alphy.app",projectId:"alphy-74583",storageBucket:"alphy-74583.appspot.com",messagingSenderId:"606454102589",appId:"1:606454102589:web:1b94cc9a6d7b00a28c4854"},"alphy");s()}catch(e){s(e)}})},7420:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{a:()=>d});var r=a(6689),i=a(401),l=a(4001),o=e([i,l]);[i,l]=o.then?(await o)():o;let n=(0,i.getAuth)(l.H),d=()=>{let[e,t]=(0,r.useState)(null);return(0,r.useEffect)(()=>(0,i.onAuthStateChanged)(n,e=>{e&&e.emailVerified?t(e):t(null)}),[]),{currentUser:e,loginWithEmail:(e,t)=>(0,i.signInWithEmailAndPassword)(n,e,t).then(e=>{let t=e.user;return null===t?"user not found":t.emailVerified?"success":"verification error"}),loginWithGoogle:()=>{let e=new i.GoogleAuthProvider;return(0,i.signInWithPopup)(n,e)},loginWithTwitter:()=>{let e=new i.TwitterAuthProvider;return(0,i.signInWithPopup)(n,e)},logout:()=>(0,i.signOut)(n),registerWithEmail:(e,t)=>(0,i.createUserWithEmailAndPassword)(n,e,t).then(e=>{let t=e.user;(0,i.sendEmailVerification)(t)}).catch(e=>{console.log(e)}),resetPassword:e=>(0,i.sendPasswordResetEmail)(n,e),handlePasswordReset:(e,t)=>(0,i.confirmPasswordReset)(n,e,t),resendEmailVerification:()=>(0,i.sendEmailVerification)(n.currentUser),handleVerifyEmail:e=>(0,i.applyActionCode)(n,e),checkIfUserExists:e=>(0,i.fetchSignInMethodsForEmail)(n,e)}};s()}catch(e){s(e)}})},1788:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>x});var r=a(997);a(4542);var i=a(6689),l=a(6999),o=a(2058),n=a(9338),d=a(7420),c=a(3745),u=a(9982),h=a(9648),m=a(7149),g=a(5132),p=a(1163),f=a(8015),A=e([d,c,u,h,g,f]);[d,c,u,h,g,f]=A.then?(await A)():A;let w={apiKey:"AIzaSyCQlDrSG7cOYqqOaj79hFbipJIFqzlRhwg",authDomain:"auth.alphy.app",projectId:"alphy-74583",storageBucket:"alphy-74583.appspot.com",messagingSenderId:"606454102589",appId:"1:606454102589:web:1b94cc9a6d7b00a28c4854"},x=function({Component:e,pageProps:t}){let a=(0,d.a)(),{currentUser:s}=(0,d.a)(),[A,x]=(0,i.useState)(!1),[k,b]=(0,i.useState)("free"),[y,S]=(0,i.useState)(0),[E,I]=(0,i.useState)(!1),[v,j]=(0,i.useState)({}),_=(0,p.useRouter)(),{query:C}=_,[P,R]=(0,i.useState)(""),[T,z]=(0,i.useState)(!1),[N,L]=(0,i.useState)(""),[U,G]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[O,V]=(0,i.useState)(""),[B,H]=(0,i.useState)(!1),[W,Z]=(0,i.useState)(!1),[$,Q]=(0,i.useState)(0),[J,Y]=(0,i.useState)([]),[F,K]=(0,i.useState)(!0),[q,X]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),[ea,es]=(0,i.useState)(!1),[er,ei]=(0,i.useState)(""),[el,eo]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());j(t),"true"===sessionStorage.getItem("refreshCredit")&&(eu(s),sessionStorage.removeItem("refreshCredit"))},[]),(0,i.useEffect)(()=>{let e=localStorage.getItem("theme");null!==e&&document.documentElement.classList.add(e)},[]);let en=(0,u.loadStripe)(`${m.J0}`);async function ed(e){if(0===O.length){let t=await (0,g.Z)(e);null===t&&(t={}),V(t)}}(0,i.useEffect)(()=>{z(window.innerWidth<768),null!=s&&ed(s.accessToken)},[s]),(0,i.useEffect)(()=>{if("resetPassword"===v.mode&&!1===_.pathname.includes("/u/resetpassword")){let[e,t]=window.location.href.split("?");window.location.href=`${e}u/resetpassword/?${t}`}}),(0,i.useEffect)(()=>{if(null!==O&&void 0!==O.show_welcome_form&&null!==O.show_welcome_form&&s&&!1===W){let e=s.metadata.createdAt;"false"!==O.show_welcome_form&&(parseInt(e)-parseInt("1705166047067")<0?(V({...O,show_welcome_form:"false"}),(0,f.Z)(s.accessToken,{show_welcome_form:"false"}),H(!1)):(V({...O,show_welcome_form:"true"}),(0,f.Z)(s.accessToken,{show_welcome_form:"true"}),setTimeout(()=>{H(!0)},1e3)),Z(!0))}},[O,s]),(0,i.useEffect)(()=>{!A&&s&&eu(s)},[s,A]);let ec=()=>{};(0,i.useEffect)(()=>{0===J.length&&ec()},[J]),(0,i.useEffect)(()=>{if("verifyEmail"===v.mode){let e=urlParams.get("oobCode");a.handleVerifyEmail(e).then(e=>{localStorage.setItem("logged in","true"),es(!0),_.push("/u/welcome?onboarding_form")})}setTimeout(()=>{let e=localStorage.getItem("userId");null===e&&null!=s&&null!==s.uid&&e!==s.uid&&localStorage.setItem("userId",s.uid),s?(localStorage.setItem("logged in","true"),es(!0)):(localStorage.setItem("logged in","false"),es(!1)),null!==s&&!1===A&&(L(s.accessToken),localStorage.setItem("idToken",s.accessToken),null===e&&localStorage.setItem("userId",s.uid),!1===el&&h.default.get(`${m.T5}/playlists/`,{params:{only_my:!0},headers:{"id-token":s.accessToken}}).then(e=>{G(e.data),eo(!0)}))},1e3)},[s,a,E,A,v]);let eu=async e=>{await h.default.get(`${m.T5}/payments/status`,{headers:{"id-token":e.accessToken}}).then(e=>{null!==e.data.current_tier&&(b(e.data.current_tier),localStorage.setItem("tier",e.data.current_tier?e.data.current_tier:"free")),ei(e.data.customer_id),S(e.data.rem_mins_sub_credits[0]+e.data.rem_mins_sub_credits[1]),x(!0)}).catch(e=>{console.log(e),x(!0),b("free"),localStorage.setItem("tier","free")})};return(0,c.initializeApp)(w),r.jsx(l.GoogleOAuthProvider,{clientId:"1095799494177-qhg6sot0m532rg51j34kfrf3t0rds5sg.apps.googleusercontent.com",children:r.jsx(o.AppRouterCacheProvider,{children:(0,r.jsxs)("div",{className:" App bg-white dark:bg-darkMode dark:text-zinc-300",children:[r.jsx("div",{className:`${"arc"===_.asPath.split("/")[1]&&"editArc"!==_.asPath.split("/")[2]&&"createArc"!==_.asPath.split("/")[2]?"md:hidden":"sm:hidden"}`,children:r.jsx(n.Z,{collapsed:T,setCollapsed:z})}),r.jsx(e,{...t,currentUser:s,idToken:N,tier:k,credit:y,setCreditCalled:I,totalMinutes:$,stripe:en,setTotalMinutes:Q,collapsed:T,setCollapsed:z,contentName:P,setContentName:R,userMetadata:O,userArchipelagos:U,setUserArchipelagos:G,dataGlobalArchipelagos:D,setDataGlobalArchipelagos:M,sandboxHistory:J,setSandboxHistory:Y,globalLayout:F,setGlobalLayout:K,userLayout:q,setUserLayout:X,submitLayout:ee,setSubmitLayout:et,loggedIn:ea,setLoggedIn:es})]})})})};s()}catch(e){s(e)}})},8015:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>n});var r=a(9648),i=a(7149),l=a(5132),o=e([r,l]);async function n(e,t){try{let a={...await (0,l.Z)(e),...t};return(await r.default.post(`${i.T5}/fe-metadata`,a,{headers:{"id-token":e}})).data}catch(e){throw console.error("Error in addToUserMetadata:",e),e}}[r,l]=o.then?(await o)():o,s()}catch(e){s(e)}})},5132:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>o});var r=a(9648),i=a(7149),l=e([r]);async function o(e){return await r.default.get(`${i.T5}/fe-metadata`,{headers:{"id-token":e}}).then(e=>e.data).catch(e=>(console.error("Error in getUserMetadata:",e),null))}r=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},4542:()=>{}};